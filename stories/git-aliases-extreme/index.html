<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Git aliases - Continuous Delivery Metric Model</title>
<meta name="description" content="Git aliases are mostly used for nifty shorthand variants or combinations of existing git commands. But aliases can do anything that you can fit into one line - literally. This also makes them fun bash scripting exercises and inconceivably powerful.">


  <meta name="author" content="Lars Kruse">
  
  <meta property="article:author" content="Lars Kruse">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Continuous Delivery Metric Model">
<meta property="og:title" content="Git aliases">
<meta property="og:url" content="https://codememo.lakruzz.com/stories/git-aliases-extreme/">


  <meta property="og:description" content="Git aliases are mostly used for nifty shorthand variants or combinations of existing git commands. But aliases can do anything that you can fit into one line - literally. This also makes them fun bash scripting exercises and inconceivably powerful.">



  <meta property="og:image" content="https://codememo.lakruzz.com/assets/images/posts/octocat_alias.png">





  <meta property="article:published_time" content="2021-04-07T00:00:00+00:00">





  

  


<link rel="canonical" href="https://codememo.lakruzz.com/stories/git-aliases-extreme/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Continuous Delivery Metric Model",
      "url": "https://codememo.lakruzz.com/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Continuous Delivery Metric Model Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/css/main.css">
<script src="https://kit.fontawesome.com/17b5a92563.js" crossorigin="anonymous"></script>


  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/lakruzz-logo.png" alt="Continuous Delivery Metric Model"></a>
        
        <a class="site-title" href="/">
          Continuous Delivery Metric Model
          <span class="site-subtitle">Software as a Factory</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/score/">Score</a>
            </li><li class="masthead__menu-item">
              <a href="/gauges/">Gauges</a>
            </li><li class="masthead__menu-item">
              <a href="/stories/">Stories</a>
            </li><li class="masthead__menu-item">
              <a href="/about-model/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/contact/">üí¨</a>
            </li><li class="masthead__menu-item">
              <a href="/terms/">üç™</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://codememo.lakruzz.com/">
        <img src="/assets/images/avatars/lakruzz.png" alt="Lars Kruse" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://codememo.lakruzz.com/" itemprop="url">Lars Kruse</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Software is Eating the world - we need more software!</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Copenhagen, Denmark</span>
        </li>
      

      
        
          
            <li><a href="mailto:lars@lakruzz.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="tel:+45 2087 2530" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-phone-square" aria-hidden="true"></i><span class="label">Phone</span></a></li>
          
        
          
            <li><a href="https://github.com/lakruzz" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/lakruzz" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">Linkedin</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Git aliases">
    <meta itemprop="description" content="Git aliases are mostly used for nifty shorthand variants or combinations of existing git commands. But aliases can do anything that you can fit into one line - literally. This also makes them fun bash scripting exercises and inconceivably powerful.">
    <meta itemprop="datePublished" content="2021-04-07T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://codememo.lakruzz.com/stories/git-aliases-extreme/" class="u-url" itemprop="url">Git aliases
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          28 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Content in this post</h4></header>
              <ul class="toc__menu"><li><a href="#aliases">Aliases</a></li><li><a href="#tab-completion">Tab completion</a></li><li><a href="#git-config">Git config</a></li><li><a href="#stepping-it-up-a-bit">Stepping it up a bit</a></li><li><a href="#git-aliases-vs-git-extensions">Git aliases vs git extensions</a></li><li><a href="#taking-aliases-to-the-next-level">Taking aliases to the next level</a></li><li><a href="#implementing-support-for-semantic-versioning">Implementing support for Semantic Versioning</a><ul><li><a href="#i-assume-the-following">I assume the following</a></li><li><a href="#my-workflow-is-simply-workon-and-deliver">My workflow is simply workon and deliver</a></li><li><a href="#and-this-is-where-i-now-need-a-tool-to-help-me">And this is where I now need a tool to help me</a></li></ul></li><li><a href="#storing-bash-scripts-as-one-line-git-aliases---using-closures">Storing bash scripts as one-line git aliases - using closures</a></li><li><a href="#getting-a-bit-ugly---adding-support-for-parameters-and-switches">Getting a bit ugly - adding support for parameters and switches</a></li><li><a href="#git-config-team-collaboration---fixing-the-missing-level-in-git-config">Git Config team collaboration - fixing the missing level in git config</a></li><li><a href="#all-in-all---the-final-config-file">All in All - the final config file</a></li><li><a href="#how-to-install">How to install</a></li><li><a href="#copy-to-config-file">Copy to config file</a></li><li><a href="#run-from-terminal">Run from terminal</a></li></ul>

            </nav>
          </aside>
        
        <p class="kicker">Git aliases are mostly used for nifty shorthand variants or combinations of existing git commands. But aliases can do anything that you can fit into one line - literally. This also makes them fun bash scripting exercises - and inconceivably powerful.</p>

<p>This blog contains quite a few git tricks, tips and even a recommended automated GitOps workflow. It‚Äôs specifically detailed in terms of git aliases and utilization of git config. I‚Äôve provided a short Table of Content so you can prepare for what‚Äôs coming.</p>

<h2 id="aliases">Aliases</h2>

<p>Good git aliases are like collectors items. They are one-liners, that makes your life (the git related part of it) much easier. They are literally one line statements. Here‚Äôs a short classical example:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config alias.co <span class="s1">'checkout'</span>
</code></pre></div></div>

<p>Now I can run <code class="language-plaintext highlighter-rouge">git co</code> as a shorthand substitute for <code class="language-plaintext highlighter-rouge">git checkout</code> This is a very popular use of git aliases - it saves me six chars every time I want to checkout a branch.</p>

<h2 id="tab-completion">Tab completion</h2>

<p>Tab completion is another nifty git feature worth mentioning when the talk is on optimizing your flow in git. In some git distributions it works out of the box, in others it needs <a href="https://stackoverflow.com/questions/12399002/how-to-configure-git-bash-command-line-completion" target="_blank" title="How to configure git bash command line completion">a bit of tweaking</a> to be ignited. What it does is simply, that it finishes your git commands for you. If you type the beginning of a git command and then hit <code class="language-plaintext highlighter-rouge">&lt;tab&gt;</code> it will toggle through the options you have and when you found the one you like you hit <code class="language-plaintext highlighter-rouge">&lt;enter&gt;</code>.</p>

<p>If I use tab completion then it turns our that I had no need for the <code class="language-plaintext highlighter-rouge">co</code> shorthand for <code class="language-plaintext highlighter-rouge">checkout</code> that I just created; I could already checkout with the same amount of key strokes (6): <code class="language-plaintext highlighter-rouge">git co&lt;enter&gt;</code> = <code class="language-plaintext highlighter-rouge">git c&lt;tab&gt;&lt;enter&gt;</code>.</p>

<p><em>‚ÄúOK! No revolution yet, but hang on a bit, it gets wilder‚Äù</em></p>

<h2 id="git-config">Git config</h2>

<p>A word on the <code class="language-plaintext highlighter-rouge">git config</code> command too: It‚Äôs essentially nothing but an in-line ini-file editor/reader of what is in your git configuration files. Git comes with knowledge of three system files; one is <em>local</em> (default) and resides in the repository: <code class="language-plaintext highlighter-rouge">/.git/config</code> another one is <em>global</em> and is in your user home folder: <code class="language-plaintext highlighter-rouge">~/.gitconfig</code>, and the last one is <em>system</em> and sits in the <code class="language-plaintext highlighter-rouge">/etc/gitconfig</code> folder (I‚Äôm using *nix style locations - <a href="https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-config" target="_blank">get an in-depth understanding of config files here</a>).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--local</span>  ...  <span class="c">#writes to .git/config in the .git folder 'underneath' your repository</span>
git config <span class="nt">--global</span> ...  <span class="c">#writes to ~/.gitconfig on your PC</span>
git config <span class="nt">--system</span> ...  <span class="c">#writes to /etc/gitconfig on your PC</span>
</code></pre></div></div>

<p>So looking at the consequences of the previous <code class="language-plaintext highlighter-rouge">git config</code> command that created the alias it ended up in the <code class="language-plaintext highlighter-rouge">.git/config</code> file in the repository that was in the path when I executed it looking like this:</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[alias]</span>
  <span class="py">co</span> <span class="p">=</span> <span class="s">checkout</span>
</code></pre></div></div>

<p>‚Ä¶In fact could just have hacked that file directly in my editor, changes will take effect instantly when you save the file - I often find myself editing the config files more often than using <code class="language-plaintext highlighter-rouge">git config</code>.</p>

<h2 id="stepping-it-up-a-bit">Stepping it up a bit</h2>

<p>So let‚Äôs find a more useful use of aliases - check this next one. I‚Äôm storing useful - but hard to remember - git command (scroll the code block to the right - it‚Äôs long!)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.tree <span class="s1">'log --graph --full-history --all --color --date=short --pretty=format:"%Cred%x09%h %Creset%ad%Cblue%d %Creset %s %C(bold)(%an)%Creset"'</span>
</code></pre></div></div>

<p><em>‚ÄúReally! That looks complicated!‚Äù</em></p>

<p>Well yes, and no. This is a brilliant example of how aliases really are useful.</p>

<p>The built-in <code class="language-plaintext highlighter-rouge">log</code> feature has some beautiful display features, and using the <code class="language-plaintext highlighter-rouge">--pretty</code> switch you can draw ASCII art trees of your branches and commits that really are - well artful. But no one wants to write, or even remembers, this relatively complicated <code class="language-plaintext highlighter-rouge">format:</code> string. Now I‚Äôve created an alias called <code class="language-plaintext highlighter-rouge">tree</code> which since then has become my personal all time favorite git command.</p>

<p>And here‚Äôs a few bonuses: First: The tab completion feature has built-in knowledge of my aliases. so <code class="language-plaintext highlighter-rouge">git tr&lt;tab&gt;</code> will expand into <code class="language-plaintext highlighter-rouge">git tree</code> and second: Since the <code class="language-plaintext highlighter-rouge">tree</code> command is a variant of the <code class="language-plaintext highlighter-rouge">log</code> command it still supports all the switches that <code class="language-plaintext highlighter-rouge">log</code> does. As an example; <code class="language-plaintext highlighter-rouge">log</code> supports the switch <code class="language-plaintext highlighter-rouge">-&lt;number&gt;</code> to limit the depth of the log to <code class="language-plaintext highlighter-rouge">&lt;number&gt;</code> items. So my <code class="language-plaintext highlighter-rouge">tree</code> command also supports <code class="language-plaintext highlighter-rouge">-&lt;number&gt;</code> out of the box. To see my git tree 32 commits deep I‚Äôll execute:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tree <span class="nt">-32</span>
</code></pre></div></div>

<p>‚Ä¶and get:</p>

<div class="pic caption pic center full">
  
  
  <a href="/assets/images/posts/git_tree_32.png">
    
    <img src="/assets/responsive/1020/git_tree_32.png" srcset="/assets/responsive/255/git_tree_32.png 255w,/assets/responsive/510/git_tree_32.png 510w,/assets/responsive/1020/git_tree_32.png 1020w," alt="Git commit history as ASCII art" class="pic pic center full" /></a>What you see is the history, 32 commits deep, in the repository that holds the website you are reading. it shows my commit SHA1s, the dates, the branches, the tags, the commit messages and the committers - exactly one line per commit. I don't have many branches in my repo; Since I minimize work in progress and always release from <code>master</code>, but if there were a pile of branches, they would have shown in ASCII art to the left. Tree is now a pretty cool alternative to plain <code>git log -32</code> and even an alternative to some of the graphical interface <code>gitk</code>.   (click image to open full-size in a new tab)</div>

<h2 id="git-aliases-vs-git-extensions">Git aliases vs git extensions</h2>

<p>An alternative to git aliases are git extensions. They behave very much the same way. A git extension is merely an executable - usually a script - that is made accessible from your <code class="language-plaintext highlighter-rouge">$PATH</code> and which follows the naming convention that it must be prefixed with <code class="language-plaintext highlighter-rouge">git-</code> so if I create the script <code class="language-plaintext highlighter-rouge">git-co</code> like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#! /bin/bash</span>
git checkout <span class="nv">$@</span>
</code></pre></div></div>

<p>And put it in <code class="language-plaintext highlighter-rouge">/usr/local/bin</code> - which is already in my <code class="language-plaintext highlighter-rouge">$PATH</code> - then I get the exact same result: <code class="language-plaintext highlighter-rouge">git co</code> is now shorthand for <code class="language-plaintext highlighter-rouge">git checkout</code>. And even git extensions are also automatically supported by tab completion, so as a git user, you wouldn‚Äôt know the difference if it was implemented one way or another.</p>

<p><em>‚ÄúOK, then why do we have both?‚Äù</em></p>

<p>Well because one is light-weight and the other can hold unlimited amount of complex code. A git alias is limited to one line, that is; It can potentially contain more then one statement (I‚Äôll show you in a bit), but it can not span more than one line. It‚Äôs literally a one-liner.</p>

<p>An extension is used when you want to extend git, not just with nifty shorthand variants and cute tricks, but entire landscapes of new features. Git‚Äôs graphical display tool called <code class="language-plaintext highlighter-rouge">gitk</code> is really a quite extensive (12K+ lines of code) executable called <a href="https://github.com/git/git/blob/master/gitk-git/gitk" target="_blank" title="See it on GitHub"><code class="language-plaintext highlighter-rouge">git-gitk</code></a> written in Tcl/Tk.</p>

<h2 id="taking-aliases-to-the-next-level">Taking aliases to the next level</h2>

<p>Let me introduce a nifty feature: <em>Full support of semantic versioning in all your git repositories</em> that might seem quite complex, something that would require a full-blown git extension (and there are quite a handful of them out there on the internet, which proves that the feature is popular and useful) but which turn out, can be actually be implemented in just two lines of code, and stored as aliases.</p>

<p><em>‚ÄúNo! Really?‚Äù</em><br />
<em>‚ÄúYes! Really!‚Äù</em></p>

<h2 id="implementing-support-for-semantic-versioning">Implementing support for Semantic Versioning</h2>

<div class="fact right medium">
<h2>SemVer Basics</h2>

<p />It's essentially a naming convention, a protocol, in which you define version numbers in three levels of integers separated by dots:

<p /><code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code>

<p />Then you play by the <a href="https://semver.org" target="_blank">SemVer rules</a> which goes as follows: When you make a new release, you bump one of the three levels. The semantical meaning of the three levels are as follows: <em>Major</em> is bumped if your release has features that breaks backward compatibility (e.g. a function that used to return a string now returns an integer). A bump of <em>Minor</em> also indicates that your release contains new features, but that they are backward compatible (e.g. the original function that returned a string is untouched, instead a new one is added, which returns an integer). And finally a bump in <em>patch</em> indicates that no new features were added, only bugfixes or enhancements to existing ones.

<p />Another rule in semantic versioning is that if you bump a level, then all other lower levels are reset to zero using <code>1.2.3</code> as an example:

<p />Bumping <em>major</em> in <code>1.2.3</code> becomes <code>2.0.0</code>.<br />
Bumping <em>minor</em> in <code>1.2.3</code> becomes <code>1.3.0</code>.<br />
Bumping <em>patch</em> in <code>1.2.3</code> becomes <code>1.2.4</code>.

<p />SemVer's obvious use case is in versioning interfaces or individual component releases, where the protocol lays the foundation of programmatically determining wether or not it's safe to update a given component or not. SemVer is the most important tool in the toolbox, when striving to kill the a bloated monolith system compound into multiple nimble individual component releases.
</div>

<p>I will not make this blog about Semantic Versioning (<a href="https://semver.org" target="_blank" title="Semantic Versioning">SemVer</a>) in general, but specifically about how to implement it in just two lines of code, using git aliases. So I assume that you‚Äôre familiar with the concept - if not read up on it in the short recap in the fact-box.</p>

<p>It‚Äôs my belief, that a good workflow is one that is simple and easy to use. Sometimes workflows aren‚Äôt simple and easy to use, and in context of git and git related workflows (e.g. GitOps) git aliases (‚Ä¶and git extensions) are a brilliant and obvious way to simplify a workflow so that every team member has a few everyday git favorite git commands which are shared among every team member, and essentially implement the workflow - nice and easy. So before getting to work, I‚Äôll just set the scene and put a few words on the workflow I use and advocate.</p>

<h3 id="i-assume-the-following">I assume the following</h3>

<ul class="no_toc">
  <li>I‚Äôm working in a <a href="https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows#_centralized_workflow" target="_blank" title="From the Git Book">Centralized Distributed Workflow</a> This is typically the case for all team using a git-as-a-Service platforms (mine is GitHub but <em>any</em> will do).</li>
  <li>The repository has a declarative pipeline defined which monitors certain events in the centralized repository (mine is in Circle CI but <em>any</em> will do).</li>
  <li>The declarative pipeline implements ‚ÄúGitOps‚Äù That is; When <em>something</em> happens in git, then stuff is automatically verified, promoted or deployed. I have three actions/levels in my repos:
    <ol>
      <li><strong>Ready:</strong> Any new commit that arrives on a branched prefixed with <code class="language-plaintext highlighter-rouge">ready/</code> is automatically rebased against  <code class="language-plaintext highlighter-rouge">master</code> and verified. If the verification is successful it‚Äôs automatically merged (guaranteed to be fast-forward, since it‚Äôs already rebased) to <code class="language-plaintext highlighter-rouge">master</code></li>
      <li><strong>Master:</strong> Any new commit that reaches the <code class="language-plaintext highlighter-rouge">master</code> branch is automatically verified - and if flawless - deployed to the stage environment.</li>
      <li><strong>SemVer:</strong> Any commit that is tagged according to <em>SemVer</em> rules is automatically verified and deployed to the production environment.</li>
    </ol>
  </li>
</ul>

<blockquote>
  <p>WTF! - No Pull Requests?
<!-- cspell:ignore bdgm BDFL --></p>
</blockquote>

<p>It‚Äôs worth noticing that in my workflow I don‚Äôt use pull requests. The reason is really that while the generic concept of a <em>Pull Request (PR)</em> undoubtedly exists, it is nevertheless implemented differently in <a href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests" target="_blank" title="GitHub believes the world stops spinning if you don't use PR!">GitHub</a>, <a href="https://docs.gitlab.com/ee/user/project/merge_requests/" target="_blank" title="GitLab calls them 'Merge Requests'">GitLab</a>, <a href="https://www.atlassian.com/git/tutorials/making-a-pull-request" target="_blank" title="Atlassian has it too!">BitBucket</a>, <a href="https://docs.microsoft.com/en-us/azure/devops/repos/git/pull-requests" target="_blank" title="...and (often) last: Microsoft does what everyone else does">Azure DevOps</a>, each in its own proprietary implementation. And on top of that  PR‚Äôs were originally designed, to support a <a href="https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows#_dictator_and_lieutenants_workflow" target="_blank" title="From the Git Book"><em>Benevolent Dictator Governance Model (BDGM)</em></a> in which only the <a href="https://en.wikipedia.org/wiki/Benevolent_dictator_for_life" target="_blanks" title="Benevolent Dictator For Life - OSS term">Benevolent Dictator For Life (BDFL)</a> and the trusted lieutenants have write (push) access, and all other contributors were potentially seen as riff-raff and they would have read (pull) access - but not write access. To contribute they would then have to <em>fork</em> or <em>branch</em> the code, make the code suggestions and then place a <em>Pull Request</em> with one of the trusted lieutenants, who would then read and validate the code for your, and if accepted then <em>they</em> would pull it in. Quite a cumbersome and manual process. And in the light of the fact that in most of todays git repositories, all contributors already have write access, it seems like it‚Äôs an obvious thing to optimize.</p>

<p>Let‚Äôs have a look at what a pull request is <em>generically</em> and why it may have survived and remained popular in many teams despite almost no one today works in a Benevolent Dictator Governance Model anymore. Generically, a PR is implemented as a short-lived temporary branch related to a specific increment (task) that needs some level of verification before merged into another branch - usually <code class="language-plaintext highlighter-rouge">master</code>. This is no different than the flow I advocate, where we say, that any code change must be done on a separate short-lived branch and only accepted into <code class="language-plaintext highlighter-rouge">master</code> if quality measures are sufficiently met. So consequently, my <code class="language-plaintext highlighter-rouge">ready/</code> branch is <em>like</em> a pull request, It‚Äôs simply a way to signal to my automated GitOps backend that I‚Äôm ready to take the test and see if my code is worthy of being integrated onto <code class="language-plaintext highlighter-rouge">master</code>. The advantage I get is that I‚Äôm only git native features - in this case simply a dedicated short-lived branch and a self-made naming convention. So consequently my setup is compliant with any Distributed Centralized Git repository strategy - including all the popular git-aaS-platform mentioned earlier.</p>

<blockquote>
  <p>Nah! You‚Äôre missing out on reviews!</p>
</blockquote>

<p>Yes, since I‚Äôve taken PR‚Äôs out of the equation what I often get is: <em>‚ÄúHey, you can‚Äôt do that, what about peer reviews then?‚Äù</em></p>

<p>And it‚Äôs true that in most teams <em>Pull Requests</em> are associated with, or sometimes even a synonym to, <em>code reviews</em>. But in my world - if a code review is required - then it‚Äôs performed directly on the short lived issue branch - all the different git-aaS-platforms have perfect built-in support for annotated reviews. It‚Äôs easy! And it has the desired side-effect that getting an extra set of eyes on the code in the development process turns it into a collaboration process among peers. And remember: Peers are equals! They are not supposed to be each others gate-keepers. The flow I advocate has a sent of <em>paired programming</em> among peers or the same flow can be used in a lean <a href="https://en.wikipedia.org/wiki/Senpai_and_k%C5%8Dhai" target="_blank" title="Lean inspired master/apprentice relation">Senpai and k≈çhai</a> inspired relation where a <em>master</em> takes responsibility for an <em>apprentice</em>.</p>

<p>The choice to ditch reviews as quality gates and to only use native git commands as opposed to proprietary implementations of Pull Requests has to do with my general admiration of the concept of <em>lean</em> and <em>automation.</em> A review, regardless if it‚Äôs done by a peer or a mentor, can‚Äôt possibly be automated, since it requires a reel persons sincere opinion. Essentially this makes the review belong to a validation process as opposed to a verification process. For that reason it can not possibly become part of the process that‚Äôs supposed to run automatically - as it would inevitably introduce a wait state - an in lean processes waiting is considered waste. I‚Äôm not adding waste to my flow - I‚Äôm removing it!</p>

<h3 id="my-workflow-is-simply-workon-and-deliver">My workflow is simply <code class="language-plaintext highlighter-rouge">workon</code> and <code class="language-plaintext highlighter-rouge">deliver</code></h3>

<p class="no_toc">When a task is assigned to me (I‚Äôll use issue #34 as an example), I create a shot-lived branch for the task and implement my solution. The way I do this is to run <code class="language-plaintext highlighter-rouge">git workon 34</code> but that‚Äôs because I‚Äôm using <a href="https://github.com/code-cafes/git-phlow" target="_blank" title="Git Phlow">a git extension</a> that supports <code class="language-plaintext highlighter-rouge">git workon</code> I‚Äôll leave that for a later blog post. I‚Äôt essentially roughly the same as:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master
git pull
git checkout <span class="nt">--track</span> origin/master <span class="nt">-b</span> 34-my-short-lived-issue-branch
</code></pre></div></div>

<p>I‚Äôm now on branch <code class="language-plaintext highlighter-rouge">34-my-short-lived-issue-branch</code> and I then start hacking my solution. If I need feedback or an OK from a peer or a mentor before I can deliver to the automated pipeline then I‚Äôll commit with a  mention of my colleague and push is to the centralized repository (<code class="language-plaintext highlighter-rouge">origin</code>) - like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit <span class="nt">-m</span> <span class="s2">"Hey @DenverCoder32 - please look at his"</span>
git push origin 34-my-short-lived-issue-branch
</code></pre></div></div>

<p>If I‚Äôm on any of the popular git-aaS-platforms - then the mention of my colleague in the commit message will trigger that she gets a notification with a link to the commit, and she can go and annotated her comments or review on my commit, exactly as if it was one of the proprietary pull request implementations.</p>

<p>When I‚Äôve gotten the feedback from my peer or mentor - or if I don‚Äôt need it - then I deliver to the automated pipeline simply by pushing the branch again - I have a git extension installed allowing me to do <code class="language-plaintext highlighter-rouge">git deliver</code> it will simply prepend the branch with <code class="language-plaintext highlighter-rouge">ready/</code> in the push process - it plays roughly something like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin 34-my-short-lived-issue-branch ready/34-my-short-lived-issue-branch
</code></pre></div></div>

<p>The name <code class="language-plaintext highlighter-rouge">ready/</code> triggers my pipeline. If all is well then the rest is really as automated - and boring to watch - as a washing machine wash.</p>

<p>Using Circle CI as an example, here‚Äôs how my pipeline is defined:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre><span class="pi">-</span> <span class="na">deliver</span><span class="pi">:</span>
    <span class="na">requires</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">prep-repo</span>
      <span class="pi">-</span> <span class="s">jekyll-build</span>
    <span class="na">filters</span><span class="pi">:</span>
      <span class="na">branches</span><span class="pi">:</span>
        <span class="na">only</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">/ready\/.*/</span>
<span class="pi">-</span> <span class="na">stage-deploy</span><span class="pi">:</span>
    <span class="na">requires</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">prep-repo</span>
      <span class="pi">-</span> <span class="s">jekyll-build</span>
      <span class="pi">-</span> <span class="s">html-proofer</span>
    <span class="na">filters</span><span class="pi">:</span>
      <span class="na">branches</span><span class="pi">:</span>
        <span class="na">only</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">/master/</span>
<span class="pi">-</span> <span class="na">prod-deploy</span><span class="pi">:</span>
    <span class="na">requires</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">prep-repo</span>
      <span class="pi">-</span> <span class="s">jekyll-build</span>
      <span class="pi">-</span> <span class="s">html-proofer</span>
    <span class="na">filters</span><span class="pi">:</span>
      <span class="na">branches</span><span class="pi">:</span>
        <span class="na">ignore</span><span class="pi">:</span> <span class="s">/._/</span>
      <span class="na">tags</span><span class="pi">:</span>
        <span class="na">only</span><span class="pi">:</span> <span class="s">/^._\d+\.\d+\.\d+.*$/</span> <span class="c1"># Contains a Semantic Version number</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>In case you‚Äôre not that familiar with Circle CI but are more proficient in one of the many other declarative pipeline technologies I‚Äôll give you a quick run-down of what‚Äôs going on in the YAML snippet above so you can do something similar in GitHub Actions, Azure Pipelines, GitLab CI, Jenkins - or <em>whatever</em> declarative pipeline you are using - they all support something similar.</p>

<p>I have defined three alternative paths in my flow. All stages apparently do the same two steps to begin with (lines 3+4, 11+12 and 20+21). <code class="language-plaintext highlighter-rouge">prep-repo</code> rebase from and then fast-forward merges the commit into <code class="language-plaintext highlighter-rouge">master</code> if it isn‚Äôt there already and generates a <code class="language-plaintext highlighter-rouge">version.txt</code> file, which I can include in the release. It then caches the repo on Circle CI infrastructure for potential reuse. <code class="language-plaintext highlighter-rouge">jekyll-build</code> builds the static website with Jekyll and caches only the derived HTML - that is the result not the source - again for potential reuse. The results from these various stages are cashed with reference to the SHA1 of the commit, so if I re-run the same commit, the two stages are reused rather than replayed.</p>

<p>In addition to <code class="language-plaintext highlighter-rouge">prep-repo</code> and <code class="language-plaintext highlighter-rouge">jekyll-build</code> the two deploy stages also requires a flawless <code class="language-plaintext highlighter-rouge">html-proofer</code> (lines 13+22).</p>

<p>The <code class="language-plaintext highlighter-rouge">deliver</code> flow is triggered only by branches that are prefixed with <code class="language-plaintext highlighter-rouge">ready/</code> (lines 6-8). The <code class="language-plaintext highlighter-rouge">stage-deploy</code> flow is trigger only by the <code class="language-plaintext highlighter-rouge">master</code> branch (lines 15-17) and finally then <code class="language-plaintext highlighter-rouge">prod-deploy</code> stage is triggered not by branches, but only tags that contains a SemVer pattern (lines 24-27).</p>

<p>So the <code class="language-plaintext highlighter-rouge">ready/</code> branch from before triggered the <code class="language-plaintext highlighter-rouge">deliver</code> flow, which ended up merging onto <code class="language-plaintext highlighter-rouge">master</code> which then in turn triggered the <code class="language-plaintext highlighter-rouge">stage-deploy</code> flow, which reused the prep and build and in addition checked for dead links and if successful automatically deployed to my stage environment, which is a real-time live production-like environment.</p>

<p>This is my own website, but had it been a product with a customer/product owner who needed to validate before deploying to production, then I could point them to the updated stage environment and wait for their approval and simply set a SemVer tag and push it. It could look like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag <span class="nt">-a</span> <span class="nt">-m</span> <span class="s2">"Making a patch bump on 1.2.3"</span> v1.2.4
git push <span class="nt">--tags</span>
</code></pre></div></div>

<p>This would trigger the <code class="language-plaintext highlighter-rouge">prod-deploy</code> workflow - which would again reuse the prep and build steps and then deploy to production being the website you‚Äôre reading now.</p>

<h3 id="and-this-is-where-i-now-need-a-tool-to-help-me">And this is where I now need a tool to help me</h3>

<div class="pic caption right small no_toc">
  
  
    <img src="/assets/responsive/255/semver_tags.png" srcset="/assets/responsive/255/semver_tags.png 255w," alt="List SemVer tags in repo" class="pic right small" />When I run the <code>git tag</code> command it lists all the tags I have in my repo - but I'm really only interested in one with the highest SemVer value.</div>

<p>To get my next SemVer tag, regardless of what level I want to bump, I need to know the previous level. I do:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag
</code></pre></div></div>

<p>And I would then seek out the one with the highest SemVer value - in this case it would be <code class="language-plaintext highlighter-rouge">1.2.4</code> which I can tell from the rather inconsistent use of naming in tag <code class="language-plaintext highlighter-rouge">version_1.2.4_some_comment</code>. What really could be helpful would be a <code class="language-plaintext highlighter-rouge">git semver</code> command which simply replies <code class="language-plaintext highlighter-rouge">1.2.4</code>.</p>

<p>It turns out that this is quite easy to get from a shell command like This:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag | <span class="nb">grep</span> <span class="nt">-Eo</span> <span class="s1">'\d\.\d\.\d'</span> | <span class="nb">sort</span> | <span class="nb">tail</span> <span class="nt">-1</span><span class="p">;</span>
</code></pre></div></div>

<p>OK, not very complicated, but still complicated enough to be cumbersome to type each time I need it.</p>

<h2 id="storing-bash-scripts-as-one-line-git-aliases---using-closures">Storing bash scripts as one-line git aliases - using closures</h2>

<p>If the alias expansion is <a href="https://git-scm.com/docs/git-config#Documentation/git-config.txt-alias" target="_blank" title="From the git config manual page">prefixed with an exclamation point</a>, it will be treated as a shell command.</p>

<p>So I could create a <code class="language-plaintext highlighter-rouge">semver</code> alias like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.semver <span class="s2">"</span><span class="se">\!</span><span class="s2">git tag | grep -Eo '</span><span class="se">\d</span><span class="s2">+</span><span class="se">\.\d</span><span class="s2">+</span><span class="se">\.\d</span><span class="s2">+' | sort | tail -1"</span>
</code></pre></div></div>

<p>But git aliases also automatically passes an any parameter to the execution. This is sometimes desired, as we saw in the <code class="language-plaintext highlighter-rouge">tree</code> alias previously, where the switch supported by <code class="language-plaintext highlighter-rouge">git log</code> was also automatically supported by <code class="language-plaintext highlighter-rouge">git tree</code>.</p>

<p>But sometimes it‚Äôs not desired - sometimes I don‚Äôt accept parameters or switches, and I want them to be swallowed or ignored and sometimes (as you‚Äôll see later) I want to pass parameters or switches to the alias itself, not it‚Äôs execution.</p>

<p>So the <code class="language-plaintext highlighter-rouge">semver</code> implementation above would mean that an execution like <code class="language-plaintext highlighter-rouge">git semver some_rubbish_parameter</code> would make it fail, whereas I would like the rubbish parameter to be ignored.</p>

<p>The trick to achieve this is instead of defining the execution, we define a function, that does the execution, and then we execute the function - a trick that‚Äôs know as a <a href="https://en.wikipedia.org/wiki/Closure_(computer_programming)" target="_blank" title="Closure (in programming)">closure</a>. This way we get to manipulate or investigate any input before it‚Äôs unconditionally executed</p>

<p>The closure construct in bash looks like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#template</span>
f<span class="o">()</span> <span class="o">{</span>statement-1<span class="p">;</span> statement-2<span class="p">;</span> ...<span class="p">;</span> statement-n<span class="p">;</span> <span class="o">}</span><span class="p">;</span> f

<span class="c"># semver as closure</span>
f<span class="o">()</span> <span class="o">{</span> git tag | <span class="nb">grep</span> <span class="nt">-Eo</span> <span class="s1">'\d+\.\d+\.\d+'</span> | <span class="nb">sort</span> | <span class="nb">tail</span> <span class="nt">-1</span><span class="p">;</span> <span class="o">}</span><span class="p">;</span> f
</code></pre></div></div>
<!-- cspell:ignore Aaarh -->
<p>But before we store it, let‚Äôs consider, what happens if there aren‚Äôt any SemVer tags set yet, if we‚Äôre the first developer here. Aaarh! <em>Nothing</em> is returned, so <code class="language-plaintext highlighter-rouge">bumpsemver</code> has nothing to bump. Let‚Äôs fix that. Some teams wants to start the SemVer with <code class="language-plaintext highlighter-rouge">0.0.0</code> others with <code class="language-plaintext highlighter-rouge">0.9.0</code> or <code class="language-plaintext highlighter-rouge">1.0.0</code>. Let‚Äôs store the team‚Äôs <code class="language-plaintext highlighter-rouge">initial</code> preference in the config file in a new section called <code class="language-plaintext highlighter-rouge">[semver]</code>`- something like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> semver.initial 0.0.0
</code></pre></div></div>

<p>And then let <code class="language-plaintext highlighter-rouge">semver</code> return that if the <code class="language-plaintext highlighter-rouge">grep</code> command doesn‚Äôt catch anything. OK! One down - <code class="language-plaintext highlighter-rouge">git semver</code> is in the box - it ended up like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--file</span> <span class="sb">`</span>git root<span class="sb">`</span>/.gitconfig alias.semver   <span class="s2">"</span><span class="se">\!</span><span class="s2">f() { SEMVER=</span><span class="se">\`</span><span class="s2">git tag | grep -Eo '</span><span class="se">\\</span><span class="s2">d+</span><span class="se">\\</span><span class="s2">.</span><span class="se">\\</span><span class="s2">d+</span><span class="se">\\</span><span class="s2">.</span><span class="se">\\</span><span class="s2">d+' | sort | tail -1</span><span class="se">\`</span><span class="s2">; if [ '_' == _</span><span class="se">\$</span><span class="s2">SEMVER ]; then echo </span><span class="se">\`</span><span class="s2">git config --get semver.initial</span><span class="se">\`</span><span class="s2">; else echo </span><span class="se">\$</span><span class="s2">SEMVER; fi; }; f"</span>
<span class="c"># &gt;&gt; Scroll to the right - it's long &gt;&gt;</span>
</code></pre></div></div>

<p>Now it always gives me the current SemVer, regardless of how inconsistently I named my tags. And if there‚Äôs no match I gets the number from the config and returns that .</p>

<h2 id="getting-a-bit-ugly---adding-support-for-parameters-and-switches">Getting a bit ugly - adding support for parameters and switches</h2>

<p>Next up is a <code class="language-plaintext highlighter-rouge">git bumpsemver</code> command which I‚Äôd like to take one of three possible switches, indicating which level to bump. I would then like it to type out - but not execute - the command that I would use to  the next SemVer label. Having it type out rather than execute it means that it would always be safe to (test) run the command, and If I like it, I can just rerun it inside an <code class="language-plaintext highlighter-rouge">eval $( ...)</code> construct.</p>

<p>As show in one of the previous examples, when I set my SemVer tags I always make them annotated and I always provide a message, usually I mention what the previous SemVer was - so keep a bit of history something like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag <span class="nt">-a</span> <span class="nt">-m</span> <span class="s2">"minor bump on 1.2.3"</span> v1.3.0
</code></pre></div></div>

<p>But others might want to apply their own messages. So my decision is, that I need <code class="language-plaintext highlighter-rouge">git bumpsemver</code> to take an additional but optional parameter, which will become the message to <code class="language-plaintext highlighter-rouge">-m</code>. If no message is applied, then <code class="language-plaintext highlighter-rouge">bumpsemver</code> should automatically generate something similar to the example above.</p>

<p>I‚Äôve also seen many software teams prefix their SemVer with <code class="language-plaintext highlighter-rouge">v</code> or <code class="language-plaintext highlighter-rouge">ver</code> like <code class="language-plaintext highlighter-rouge">v1.3.0</code> or <code class="language-plaintext highlighter-rouge">ver1.3.0</code> so I wan‚Äôt to have support for that too. I‚Äôll create a <code class="language-plaintext highlighter-rouge">prefix</code> setting for this and put it in the in <code class="language-plaintext highlighter-rouge">semver</code> section. So if you want a prefix <code class="language-plaintext highlighter-rouge">v</code> it should be set like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> semver.prefix v
</code></pre></div></div>

<p>Which would total the <code class="language-plaintext highlighter-rouge">semver</code> section in the config file to look like this:</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[semver]</span>
  <span class="py">inital</span> <span class="p">=</span> <span class="s">0.0.0</span>
  <span class="py">prefix</span> <span class="p">=</span> <span class="s">v</span>
</code></pre></div></div>

<p>And finally, on top of everything, I‚Äôd like the alias to be so clever, that if I execute it wrongly, it does nothing wrong, but instead it just shows a nice and short instruction on how to use it correctly something like:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git bumpsemver
Usage: git bumpsemver  <span class="nt">--major</span>|--minor|--patch <span class="o">[</span>msg]

Generates the git <span class="nb">command </span>to run. If you omit
the <span class="o">[</span>msg] a clever one will be generated <span class="k">for </span>you.
To execute it run it <span class="k">in </span>an <span class="nb">eval</span> <span class="si">$(</span>...<span class="si">)</span> like this example:

<span class="nb">eval</span> <span class="si">$(</span>git bumpsemver <span class="nt">--minor</span> <span class="s2">"this will be the comment"</span><span class="si">)</span>
</code></pre></div></div>

<p>That‚Äôs what I want, nothing more, nothing less. All in just one line of code - as a git alias.</p>

<p>It‚Äôs not as daunting a task as it seems. First I‚Äôll lay it out as it looks in a neat bash closure, and then we‚Äôll weed out the new-lines and escape whatever needs to be escape for persistent file storage. I give you <code class="language-plaintext highlighter-rouge">git bumpsemver</code> dressed up as a closure:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="code"><pre>f<span class="o">(){</span>
  <span class="nv">PREFIX</span><span class="o">=</span><span class="si">$(</span>git config <span class="nt">--global</span> <span class="nt">--get</span> semver.prefix<span class="si">)</span><span class="p">;</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="se">\"</span><span class="nv">$2</span><span class="se">\"</span> <span class="o">]</span><span class="p">;</span>
    <span class="k">then </span><span class="nv">MSG</span><span class="o">=</span><span class="s2">"-m </span><span class="se">\"</span><span class="nv">$1</span><span class="s2"> bump on </span><span class="sb">`</span>git semver<span class="sb">`</span><span class="se">\"</span><span class="s2">"</span><span class="p">;</span>
    <span class="k">else </span><span class="nv">MSG</span><span class="o">=</span><span class="s2">"-m  </span><span class="se">\"</span><span class="nv">$2</span><span class="se">\"</span><span class="s2">"</span><span class="p">;</span>
  <span class="k">fi</span><span class="p">;</span>
  <span class="nv">levels</span><span class="o">=(</span><span class="sb">`</span><span class="nb">echo</span> <span class="se">\$</span><span class="o">(</span>git semver<span class="o">)</span> | <span class="nb">tr</span> <span class="s1">'.'</span> <span class="s1">' '</span><span class="sb">`</span><span class="o">)</span><span class="p">;</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s1">'_--major'</span> <span class="o">==</span>_<span class="nv">$1</span> <span class="o">]</span><span class="p">;</span>
    <span class="k">then </span><span class="nb">echo </span>git tag <span class="nt">-a</span> <span class="nv">$MSG</span> <span class="nv">$PREFIX</span><span class="k">$((${</span><span class="nv">levels</span><span class="p">[0]</span><span class="k">}</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>.0.0<span class="p">;</span>
  <span class="k">elif</span> <span class="o">[</span> <span class="s1">'_--minor'</span> <span class="o">==</span> _<span class="nv">$1</span> <span class="o">]</span><span class="p">;</span>
    <span class="k">then </span><span class="nb">echo </span>git tag <span class="nt">-a</span> <span class="nv">$MSG</span> <span class="nv">$PREFIX</span><span class="k">${</span><span class="nv">levels</span><span class="p">[0]</span><span class="k">}</span>.<span class="k">$((${</span><span class="nv">levels</span><span class="p">[1]</span><span class="k">}</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>.0<span class="p">;</span>
  <span class="k">elif</span> <span class="o">[</span> <span class="s1">'_--patch'</span> <span class="o">==</span> _<span class="nv">$1</span> <span class="o">]</span><span class="p">;</span>
    <span class="k">then </span><span class="nb">echo </span>git tag <span class="nt">-a</span> <span class="nv">$MSG</span> <span class="nv">$PREFIX</span><span class="k">${</span><span class="nv">levels</span><span class="p">[0]</span><span class="k">}</span>.<span class="k">${</span><span class="nv">levels</span><span class="p">[1]</span><span class="k">}</span>.<span class="k">$((${</span><span class="nv">levels</span><span class="p">[2]</span><span class="k">}</span><span class="o">+</span><span class="m">1</span><span class="k">))</span><span class="p">;</span>
    <span class="k">else </span><span class="nb">echo</span> <span class="s1">'Usage: git bumpsemver  --major|--minor|--patch [msg]\n
      Generates the git command to run. If you omit
      the [msg] a clever one will be generated for you.
      To set the tag run bumpsemver inside an eval $(...) like this example:
          eval \$(git bumpsemver --minor \"this will be the comment\")'</span><span class="p">;</span>
  <span class="k">fi</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>
f<span class="s2">"</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>There‚Äôs quite a few cheap bash tricks in play here - so if you are curious to what happens I‚Äôll walk you through it.</p>

<p><strong>Line 2:</strong> As mentioned earlier, <code class="language-plaintext highlighter-rouge">git config</code> is also a reader. So the script simply reads whats in the file <code class="language-plaintext highlighter-rouge">~/.gitconfig</code> file.</p>

<p><strong>Lines 3-5:</strong> The <code class="language-plaintext highlighter-rouge">-z</code> switch to the file test is <code class="language-plaintext highlighter-rouge">TRUE</code> if the variable is <em>not</em> defined. If <em>no</em> messages is applied then a default one is generated, if a message is given then it overrides the default message - mentioning the current SemVer level by reusing the <code class="language-plaintext highlighter-rouge">git semver</code> alias.</p>

<p><strong>Line 7:</strong> <code class="language-plaintext highlighter-rouge">tr</code> replaces dots with spaces - and returns an array. <code class="language-plaintext highlighter-rouge">tr</code> splits on spaces so <code class="language-plaintext highlighter-rouge">1.2.4</code> becomes a three item array <code class="language-plaintext highlighter-rouge">[1][2][4]</code> and an arrays is what is needed in (lines 9, 11 &amp; 13). Also notice, that <code class="language-plaintext highlighter-rouge">bumpsemver</code> is reusing the <code class="language-plaintext highlighter-rouge">semver</code> alias.</p>

<p><strong>Lines 8,10 and 12:</strong> A dummy <code class="language-plaintext highlighter-rouge">_</code> char is added in the comparison on both sides, otherwise the script would fail if no parameters were applied - comparing something to noting, and we want that failure to be a friendly usage statement in line 14.</p>

<p><strong>Lines 9,11 and 13:</strong> Type casting <code class="language-plaintext highlighter-rouge">$levels</code> with <code class="language-plaintext highlighter-rouge">${...}</code> allows us to access the array items. And type casting the sting to an integer using <code class="language-plaintext highlighter-rouge">s((...))</code> allows us to use arithmetic operators, so we can increment the level.</p>

<p>Now let‚Äôs wrap this up - it‚Äôs a bit ugly, but we have to fit it onto one line - be warned:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.bumpsemver <span class="s2">"</span><span class="se">\!</span><span class="s2">f(){ PREFIX=</span><span class="se">\$</span><span class="s2">(git config --global --get semver.prefix); if [ -z </span><span class="se">\"\$</span><span class="s2">2</span><span class="se">\"</span><span class="s2"> ]; then MSG=</span><span class="se">\"</span><span class="s2">-m </span><span class="se">\\\"\$</span><span class="s2">1 bump on </span><span class="se">\`</span><span class="s2">git semver</span><span class="se">\`\"\\\"</span><span class="s2">; else MSG=</span><span class="se">\"</span><span class="s2">-m  </span><span class="se">\\\"\$</span><span class="s2">2</span><span class="se">\\\"\"</span><span class="s2">; fi; levels=(</span><span class="se">\`</span><span class="s2">echo </span><span class="se">\$</span><span class="s2">(git semver) | tr '.' ' '</span><span class="se">\`</span><span class="s2">); if [ '_--major' == _</span><span class="se">\$</span><span class="s2">1 ]; then echo git tag -a </span><span class="se">\$</span><span class="s2">MSG </span><span class="se">\$</span><span class="s2">PREFIX</span><span class="se">\$</span><span class="s2">((</span><span class="se">\$</span><span class="s2">{levels[0]}+1)).0.0; elif [ '_--minor' == _</span><span class="se">\$</span><span class="s2">1 ]; then echo git tag -a </span><span class="se">\$</span><span class="s2">MSG </span><span class="se">\$</span><span class="s2">PREFIX</span><span class="se">\$</span><span class="s2">{levels[0]}.</span><span class="se">\$</span><span class="s2">((</span><span class="se">\$</span><span class="s2">{levels[1]}+1)).0; elif [ '_--patch' == _</span><span class="se">\$</span><span class="s2">1 ]; then echo git tag -a </span><span class="se">\$</span><span class="s2">MSG </span><span class="se">\$</span><span class="s2">PREFIX</span><span class="se">\$</span><span class="s2">{levels[0]}.</span><span class="se">\$</span><span class="s2">{levels[1]}.</span><span class="se">\$</span><span class="s2">((</span><span class="se">\$</span><span class="s2">{levels[2]}+1)); else echo 'Usage: git bumpsemver  --major|--minor|--patch [msg]</span><span class="se">\n\n</span><span class="s2">Generates the git command to run. If you omit</span><span class="se">\n</span><span class="s2">the [msg] a clever one will be generated for you.</span><span class="se">\n</span><span class="s2">To execute it run it in an eval </span><span class="si">$(</span>...<span class="si">)</span><span class="s2"> like this example:</span><span class="se">\n\n</span><span class="s2">    eval </span><span class="se">\$</span><span class="s2">(git bumpsemver --minor </span><span class="se">\"</span><span class="s2">this will be the comment</span><span class="se">\"</span><span class="s2">)'; fi;  }; f"</span>
<span class="c"># &gt;&gt; scroll - it's very loooong &gt;&gt;</span>
</code></pre></div></div>

<h2 id="git-config-team-collaboration---fixing-the-missing-level-in-git-config">Git Config team collaboration - fixing the missing level in git config</h2>

<p>OK, now I‚Äôve given you an handful of useful git aliases, and <code class="language-plaintext highlighter-rouge">git config</code> settings. Now it would be nice, if everyone on the team, had these settings and aliases, then we would know that every team member was doing the same thing. As a team lead I could ask everyone  to execute all the commands that would set these aliases. Or distribute a script that did it, but I admit, that the commands are delicate, they are not even white-space tolerant, the removal of just one tiny white-space might render the alias useless. And personally I favour the principle of <em>Configuration as Code</em>  which mean that I would much rather distribute and version control a config file, as opposes to a script that sets the config file.</p>

<p>But there is kind of a missing level in the whole git config story. <code class="language-plaintext highlighter-rouge">--system</code> and <code class="language-plaintext highlighter-rouge">--global</code> levels are on the developers own PC and out of reach for version control. <code class="language-plaintext highlighter-rouge">--local</code> is in the repository‚Äôs <code class="language-plaintext highlighter-rouge">.git</code> folder which is kinda <em>underneath</em> it all and not included in the version control and general <code class="language-plaintext highlighter-rouge">clone</code>, <code class="language-plaintext highlighter-rouge">pull</code>, <code class="language-plaintext highlighter-rouge">push</code>, <code class="language-plaintext highlighter-rouge">branch</code> scope.</p>

<p>I kinda miss a fourth level in the whole <code class="language-plaintext highlighter-rouge">git config</code> setup, something like <code class="language-plaintext highlighter-rouge">--repo</code> that would get and set from a file <code class="language-plaintext highlighter-rouge">.gitconfig</code> which was located in the root of the repository, and then could be version controlled together with the rest of the team‚Äôs files.</p>

<p>And then I need <code class="language-plaintext highlighter-rouge">git config</code> to include this new fourth repo level in the equation.</p>

<p>First part is easy to achieve since the <code class="language-plaintext highlighter-rouge">git config</code> already supports that I can use the <code class="language-plaintext highlighter-rouge">--file</code> switch to write to any other file. So I could do something like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--file</span> &lt;repository-root&gt;/.gitconfig alias.co checkout
</code></pre></div></div>

<p>Hmmm, looks like all I need now is a generic way to get the repository root, something like <code class="language-plaintext highlighter-rouge">git root</code>. Such a git command doesn‚Äôt exist, but I can get the root with <code class="language-plaintext highlighter-rouge">git rev-parse --show-toplevel</code> and I can easily make it a <code class="language-plaintext highlighter-rouge">git root</code> command if I want:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.root <span class="s1">'rev-parse --show-toplevel'</span>
</code></pre></div></div>

<p>Second part is to include the new config file in the git config hierarchy so it‚Äôs settings comes into play, I can use the <code class="language-plaintext highlighter-rouge">include</code> directive supported by <code class="language-plaintext highlighter-rouge">git config</code> it‚Äôs not 100% ideal, since I would have to put the include in <em>one</em> of the three default config files, and as discussed none of them are version controlled but it will work. Relative paths in the <code class="language-plaintext highlighter-rouge">include</code> directive takes off-set in the location of the config file itself, the <code class="language-plaintext highlighter-rouge">--system</code> and <code class="language-plaintext highlighter-rouge">--global</code> levels can‚Äôt really act as generic in regards of the repository location, as I may have cloned the repos to <em>anywhere</em> on my hard drive. So for this reason it turns out that the <code class="language-plaintext highlighter-rouge">--local</code> level has one advantage over the two other, as it always sits <em>underneath</em> the repository which mean that the repository level <code class="language-plaintext highlighter-rouge">.gitconfig</code> is always in the parent directory, relative to the local config file (remember it‚Äôs in the repository‚Äôs <code class="language-plaintext highlighter-rouge">.git/config</code>). So every git repository on earth, regardless of where it cloned to, has a valid <code class="language-plaintext highlighter-rouge">--local</code> include path that looks - like this.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--local</span> include.path ./../.gitconfig
</code></pre></div></div>

<p>So if the team distributes their shared aliases and config settings in general in a <code class="language-plaintext highlighter-rouge">.gitconfig</code> in the root of the repository, where they probably already have all the other config files they share. Then the git config command above would then be <em>the only command</em> I would require for all teammates to run the same settings. Using the <em>local</em> level implies that it must be included and set in every repository. So the final alias I give you is one that reads everything in the repo‚Äôs <code class="language-plaintext highlighter-rouge">.gitconfig</code> and pours it into the <code class="language-plaintext highlighter-rouge">--global</code> and essentially make them all your own. It actually work as intended, since the local level is read last, and the include level is read as the very last. So any updates your team makes in the repo, would take precedent over your global ones. I‚Äôve made the alias safe, so it won‚Äôt update your global settings if the are already defined.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> alias.repo-config-to-global <span class="s2">"!f(){ for f in </span><span class="si">$(</span>git config <span class="nt">--file</span> <span class="sb">`</span>git root<span class="sb">`</span>/.gitconfig <span class="nt">--list</span> <span class="nt">--name-only</span><span class="si">)</span><span class="s2">; do git config --global --get </span><span class="nv">$f</span><span class="s2"> &gt; /dev/null || git config --global </span><span class="nv">$f</span><span class="s2"> "</span><span class="si">$(</span>git config <span class="nt">--file</span> <span class="sb">`</span>git root<span class="sb">`</span>/.gitconfig <span class="nt">--get</span> <span class="nv">$f</span><span class="si">)</span><span class="s2">"; done; }; f"</span>
</code></pre></div></div>

<p>If you want to use <code class="language-plaintext highlighter-rouge">git repo-config-to-global</code> to update existing settings, you do it by deleting them first and reapplying them from the one in the repository:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>setting <span class="k">in</span> <span class="si">$(</span>git config <span class="nt">--file</span> <span class="sb">`</span>git root<span class="sb">`</span>/.gitconfig <span class="nt">--list</span> <span class="nt">--name-only</span><span class="si">)</span><span class="p">;</span> <span class="k">do </span>git config <span class="nt">--global</span> <span class="nt">--unset</span> <span class="nv">$setting</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span>
git rep-config-to-global
<span class="c"># &gt;&gt; Scroll to the right - it's long &gt;&gt;</span>
</code></pre></div></div>

<h2 id="all-in-all---the-final-config-file">All in All - the final config file</h2>

<p>It ended up like this:</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[alias]</span>
  <span class="py">tree</span> <span class="p">=</span> <span class="s">log --graph --full-history --all --color --date=short --pretty=format:</span><span class="se">\"</span><span class="s">%Cred%x09%h %Creset%ad%Cblue%d %Creset %s %C(bold)(%an)%Creset</span><span class="se">\"</span>
  <span class="py">semver</span> <span class="p">=</span> <span class="s">"!f() { SEMVER=`git tag | grep -Eo '</span><span class="se">\\</span><span class="s">d+</span><span class="se">\\</span><span class="s">.</span><span class="se">\\</span><span class="s">d+</span><span class="se">\\</span><span class="s">.</span><span class="se">\\</span><span class="s">d+' | sort | tail -1`; if [ '_' == _$SEMVER ]; then echo `git config --get semver.initial`; else echo $SEMVER; fi; }; f"</span>
  <span class="py">bumpsemver</span> <span class="p">=</span> <span class="s">"!f(){ PREFIX=$(git config --global --get semver.prefix); if [ -z </span><span class="se">\"</span><span class="s">$2</span><span class="se">\"</span><span class="s"> ]; then MSG=</span><span class="se">\"</span><span class="s">-m </span><span class="se">\\\"</span><span class="s">$1 bump on `git semver`</span><span class="se">\"\\\"</span><span class="s">; else MSG=</span><span class="se">\"</span><span class="s">-m  </span><span class="se">\\\"</span><span class="s">$2</span><span class="se">\\\"\"</span><span class="s">; fi; levels=(`echo $(git semver) | tr '.' ' '`); if [ '_--major' == _$1 ]; then echo git tag -a $MSG $PREFIX$((${levels[0]}+1)).0.0; elif [ '_--minor' == _$1 ]; then echo git tag -a $MSG $PREFIX${levels[0]}.$((${levels[1]}+1)).0; elif [ '_--patch' == _$1 ]; then echo git tag -a $MSG $PREFIX${levels[0]}.${levels[1]}.$((${levels[2]}+1)); else echo 'Usage: git bumpsemver  --major|--minor|--patch [msg]</span><span class="se">\\</span><span class="s">n</span><span class="se">\\</span><span class="s">nGenerates the git command to run. If you omit</span><span class="se">\\</span><span class="s">nthe [msg] a clever one will be generated for you.</span><span class="se">\\</span><span class="s">nTo execute it run it in an eval  like this example:</span><span class="se">\\</span><span class="s">n</span><span class="se">\\</span><span class="s">n    eval $(git bumpsemver --minor </span><span class="se">\"</span><span class="s">this will be the comment</span><span class="se">\"</span><span class="s">)'; fi;  }; f"</span>
  <span class="py">root</span> <span class="p">=</span> <span class="s">rev-parse --show-toplevel</span>
  <span class="py">repo-config-to-global</span> <span class="p">=</span> <span class="s">"!f(){ for f in $(git config --file `git root`/.gitconfig --list --name-only); do git config --global --get $f &gt; /dev/null || git config --global $f </span><span class="se">\"</span><span class="s">$(git config --file `git root`/.gitconfig --get $f)</span><span class="se">\"</span><span class="s">; done; }; f"</span>
<span class="nn">[semver]</span>
  <span class="py">prefix</span> <span class="p">=</span> <span class="s">v</span>
  <span class="py">initial</span> <span class="p">=</span> <span class="s">0.0.0</span>
</code></pre></div></div>

<h2 id="how-to-install">How to install</h2>

<p>You have options:</p>

<h2 id="copy-to-config-file">Copy to config file</h2>

<ol>
  <li>Simply copy the content from <a href="https://raw.githubusercontent.com/lakruzz/semver_git_alias/main/.gitconfig" target="_blank" title="Most recent version of the file on github">the final config file</a> shown above into your own - into your own config file</li>
</ol>

<h2 id="run-from-terminal">Run from terminal</h2>

<ol>
  <li>Clone my <code class="language-plaintext highlighter-rouge">lakruzz/semver_git_alias</code> repo</li>
  <li>Change directory to be inside the repo</li>
  <li>Include the <code class="language-plaintext highlighter-rouge">.gitconfig</code> file from the repo</li>
  <li>Pour them into you own <em>global</em> level</li>
</ol>

<p>Copy and run theses four lines:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/lakruzz/semver_git_alias.git
<span class="nb">cd </span>semver_git_alias
git config <span class="nt">--local</span> include.path ./../.gitconfig
git repo-config-to-global
</code></pre></div></div>

<p>I‚Äôve put everything in a small git repository <a href="https://github.com/lakruzz/semver_git_alias" target="_blank" title="Git Extreme Aliases"><code class="language-plaintext highlighter-rouge">lakruzz/semver_git_alias</code></a>. If you have any comments or want to share some of your own git aliases, then let‚Äôs chat up using the <a href="https://github.com/lakruzz/semver_git_alias/issues" target="_blank" title="lakruzz/semver_git_alias Issues">GitHub issues</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#git" class="page__taxonomy-item p-category" rel="tag">git</a><span class="sep">, </span>
    
      <a href="/tags/#gitops" class="page__taxonomy-item p-category" rel="tag">gitops</a><span class="sep">, </span>
    
      <a href="/tags/#semver" class="page__taxonomy-item p-category" rel="tag">semver</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2021-04-07T00:00:00+00:00">April 7, 2021</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Git+aliases%20https%3A%2F%2Fcodememo.lakruzz.com%2Fstories%2Fgit-aliases-extreme%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcodememo.lakruzz.com%2Fstories%2Fgit-aliases-extreme%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fcodememo.lakruzz.com%2Fstories%2Fgit-aliases-extreme%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
 
    <nav class="pagination">
      
        <a href="/stories/the-dorith-principle/" class="pagination--pager" title="The DORITH principle
">Previous</a>
      
      
        <a href="/stories/the-full-assessment/" class="pagination--pager" title="The Full Assessment
">Next</a>
      
    </nav>
 


    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You May Also Enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/pics/ws-0025.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/stories/the-full-assessment/" rel="permalink">The Full Assessment
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Continuous Delivery is to software development what lean is to manufacturing. We strive for Lean Software Development. A one-piece flow with quality built-in.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/posts/dorith.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/stories/the-dorith-principle/" rel="permalink">The DORITH principle
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">DORITH is a contraction of sentence ‚ÄúDO the RIght THing‚Äù. It‚Äôs a principle that enables you to make decisions that will appear to be tactical and still allow...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/lakruzz" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/lakruzz" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

 <div class="page__footer-copyright">&copy; 2025 Continuous Delivery Metric Model
    
      ‚Äî  Powered by <a href="https://www.lakruzz.com" target="_blank" rel="nofollow">Lakruzz</a></div>
    

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>





    <style>
    #cookie-notice {padding: 0.5rem 1rem; display: none; text-align: center; position: fixed; bottom: 0; width: 100%; background: #942323; color: rgba(255,255,255,0.8);}
    #cookie-notice a {display: inline-block; cursor: pointer; margin-left: 0.5rem;}
    @media (max-width: 767px) {
        #cookie-notice span {display: block; padding-top: 3px; margin-bottom: 1rem;}
        #cookie-notice a {position: relative; bottom: 4px;}
    }
</style>
<div id="cookie-notice">
    <span>
        Say <em>"Yes!"</em> to cookies 
    </span>
    <a id="cookie-notice-accept" class="btn btn--success">
        üç™üí™ Yes 
    </a>
    &nbsp;&nbsp;We're not evil, we <em>never</em>  track PII data
    <a href="/terms/" class="btn btn--warning">
        üòà Read our terms 
    </a>
</div>

<script>
    function createCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }

    function eraseCookie(name) {
        createCookie(name,"",-1);
        // Remove GTM script from the header
        var gtmScripts = document.querySelectorAll('script[src*="googletagmanager.com/gtag/js"]');
        gtmScripts.forEach(function(script) {
            script.parentNode.removeChild(script);
        });
    }

    if(readCookie('cookie-notice-dismissed')=='true') {

        
        
    } else {
        document.getElementById('cookie-notice').style.display = 'block';
    }
    document.getElementById('cookie-notice-accept').addEventListener("click",function() {
        createCookie('cookie-notice-dismissed','true',31);
        document.getElementById('cookie-notice').style.display = 'none';
        location.reload();
    });

</script>

    
  </body>
</html>
